<pp-header
  [(showPlayers)]="showPlayers"
  [(showVotings)]="showVotings"
  (showPlayersChange)="saveSidebarsState()"
  (showVotingsChange)="saveSidebarsState()"
></pp-header>

<mat-drawer-container *ngIf="authService.user$ | async">
  <mat-drawer class='users' mode="side" [opened]="showPlayers">
    <!--- USERS --->
    <pp-users [users]="users$ | async" [activeVoting]="activeVoting$ | async"></pp-users>
  </mat-drawer>

  <mat-drawer-content>

    <!--- CARDS --->
    <pp-cards [activeVoting]="activeVoting$ | async" [step]="step"></pp-cards>

    <!--- CREATE --->
    <button mat-fab color="primary" class="new-voting-button" (click)="openNewVotingModal()" *ngIf="authService.isAdmin$ | async">
      <mat-icon>create</mat-icon>
    </button>
  </mat-drawer-content>

  <mat-drawer class='votings' mode="side" [opened]="showVotings" position="end">
    <!--- VOTINGS --->
    <pp-votings [votings]="votings$ | async" (select)="pp.activateVoting(($event.id))"></pp-votings>
  </mat-drawer>
</mat-drawer-container>
