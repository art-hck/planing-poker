<mat-list>
  <ng-container *ngIf="users && room && (users | users: room :[systemRole.user]) as users">
    <ng-container *ngIf="users.length">
      <div mat-subheader>Голосующие ({{users.length}})</div>
      <ng-container *ngFor="let user of users">
        <pp-user [room]="room" [user]="user" [votes]="votes" [voteColors]="voteColors"></pp-user>
      </ng-container>
      <mat-divider></mat-divider>
    </ng-container>
  </ng-container>

  <ng-container *ngIf="users && room && (users | users: room :[systemRole.observer]) as users">
    <ng-container *ngIf="users.length">
      <div mat-subheader>Наблюдатели ({{users.length}})</div>
      <ng-container *ngFor="let user of users; index as i; trackBy: trackByFn">
        <pp-user [room]="room" [user]="user" [votes]="votes" [voteColors]="voteColors"></pp-user>
      </ng-container>
    </ng-container>
  </ng-container>
</mat-list>
<div class="flex-space"></div>
<div class="footer-actions" *ngIf="room">
  <mat-selection-list [multiple]="false">
    <mat-divider></mat-divider>
    <mat-list-option (click)="inviteRoom(room.id); item.selected = false" #item>
      <mat-icon matListIcon>share</mat-icon>
      <div class="overflow-hidden" matLine>{{room.name}}</div>
      <div class="overflow-hidden" matLine [style.color]="'#999'">#{{room.id}}</div>
    </mat-list-option>
  </mat-selection-list>
</div>
